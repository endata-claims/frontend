{"version":3,"sources":["components/Formik/FileField/index.tsx"],"names":["blackListedExt","FileField","disabled","readOnly","required","label","props","useField","name","helpers","isSubmitting","useFormikContext","isDisabled","validate","file","size","extension","split","length","toUpperCase","includes","component","SimpleFileUpload","InputProps","onClick","setTouched"],"mappings":"mNAIaA,EAAiB,CAC5B,OAAQ,OAAQ,eAAgB,UAAW,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OACnG,OAAQ,OAAQ,MAAO,OAAQ,OAAQ,MAAO,OAAQ,MAAO,OAAQ,OAAQ,OAAQ,OAAQ,UAAW,OAAQ,UAChH,QAAS,QAAS,OAAQ,QAAS,QAAS,UAAW,WAAY,WAAY,OAAQ,OAAQ,OAAQ,QA4C1FC,UAjC6B,SAAC,GAAuD,IAArDC,EAAoD,EAApDA,SAAUC,EAA0C,EAA1CA,SAAUC,EAAgC,EAAhCA,SAAUC,EAAsB,EAAtBA,MAAUC,EAAY,4DAC3EC,YAASD,EAAME,MAA1BC,EADsF,oBAGzFC,EAAiBC,cAAjBD,aACFE,EAAaV,GAAYQ,GAAgBP,EAE/C,OACE,kBAAC,IAAD,iBACMG,EADN,CAEED,MAAOD,EAAQ,UAAMC,EAAN,KAAiBA,EAChCQ,SAAU,SAACC,GACT,IAAKF,GAAcR,IAAaU,EAAM,MAAO,YAE7C,IAAIA,EAAM,MAAO,GAHM,IAIfN,EAAeM,EAAfN,KAAMO,EAASD,EAATC,KAERC,EAAY,WAAIR,EAAKS,MAAM,KAAKT,EAAKS,MAAM,KAAKC,OAAS,IAAKC,cACpE,OAAInB,EAAeoB,SAASJ,GAAmB,kCAE3CD,EAAO,SAAiB,4BACxBA,EAAO,EAAU,8BAEjBP,EAAKU,OAAS,GAAW,iCACzBV,EAAKU,OAAS,EAAU,qCAA5B,GAEFG,UAAWC,IACXpB,SAAUU,EACVW,WAAY,CACVC,QAAS,kBAAMf,EAAQgB,YAAW","file":"static/js/74.6b55f339.chunk.js","sourcesContent":["import React from 'react'\nimport { Field, useFormikContext, useField } from 'formik'\nimport { SimpleFileUpload } from 'formik-material-ui'\n\nexport const blackListedExt = [\n  '.EXE', '.PIF', '.APPLICATION', '.GADGET', '.MSI', '.MSP', '.COM', '.SCR', '.HTA', '.CPL', '.MSC', '.JAR',\n  '.BAT', '.CMD', '.VB', '.VBS', '.VBE', '.JS', '.JSE', '.WS', '.WSF', '.WSC', '.WSH', '.PS1', '.PS1XML', '.PS2', '.PS2XML',\n  '.PSC1', '.PSC2', '.MSH', '.MSH1', '.MSH2', '.MSHXML', '.MSH1XML', '.MSH2XML', '.SCF', '.LNK', '.INF', '.REG',\n]\n\nexport type FileFieldProps = {\n  name: string\n  label: string\n  disabled?: boolean\n  readOnly?: boolean\n  required?: boolean\n}\n\nconst FileField: React.FC<FileFieldProps> = ({ disabled, readOnly, required, label, ...props }) => {\n  const [, , helpers] = useField(props.name)\n\n  const { isSubmitting } = useFormikContext()\n  const isDisabled = disabled || isSubmitting || readOnly\n\n  return (\n    <Field\n      {...props}\n      label={required ? `${label}*` : label}\n      validate={(file: any) => {\n        if (!isDisabled && required && !file) return 'Required!'\n\n        if(!file) return ''\n        const { name, size } = file\n\n        const extension = `.${name.split('.')[name.split('.').length - 1]}`.toUpperCase()\n        if (blackListedExt.includes(extension)) return 'File extension is not supported'\n\n        if (size > 31457280) return 'Maximum file size is 30MB'\n        if (size < 1) return 'Minimum file size is 1 byte'\n\n        if (name.length > 60) return 'Maximum file name length is 60'\n        if (name.length < 5) return 'Minimum file name length is 5'\n      }}\n      component={SimpleFileUpload}\n      disabled={isDisabled}\n      InputProps={{\n        onClick: () => helpers.setTouched(true)\n      }}\n    />\n  )\n}\nexport default FileField\n\n"],"sourceRoot":""}