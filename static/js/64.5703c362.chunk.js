(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[64],{1283:function(e,n,t){"use strict";t.r(n);var a=t(123),o=t(25),l=t(0),i=t.n(l),c=t(136),r=t.n(c),u=t(56),s=t(763),m=function(){return i.a.createElement("div",{style:{height:"100vh",display:"flex",justifyContent:"center",alignItems:"center"}},i.a.createElement(s.a,{style:{margin:"0 auto",display:"block"}}))},d=t(1272),p=t(764),v=t(1273),f=t(782),h=t.n(f),g=t(546),E=t.n(g),b=t(783),y=t.n(b),k=t(7),R=t(1267),C=t(1265),j=t(131),O=t(121),x=function(e){var n=e.routes,t=e.activeRoute,a=Object(k.a)(e,["routes","activeRoute"]),o=P();return i.a.createElement(R.a,Object.assign({color:"inherit",variant:"text",size:"large"},a),n.map((function(e,n){var a=e.label,l=e.icon,c=e.path,r=e.href;return i.a.createElement(C.a,{key:n,component:r?"a":O.b,href:r,to:c,startIcon:l,color:"inherit",className:t===n?o.activeRoute:""},a)})))},P=Object(j.a)({activeRoute:{background:"rgba(0,0,0, 0.3)"}}),_=t(219),z=t(762),S=t(717),L=t(1268),U=t(779),I=t.n(U),T=t(780),w=t.n(T),N=function(e){var n=Object(u.f)().push,t=i.a.useState(null),a=Object(_.a)(t,2),o=a[0],l=a[1],c=function(){return l(null)};return i.a.createElement(i.a.Fragment,null,i.a.createElement(z.a,Object.assign({onClick:function(e){return l(e.currentTarget)},color:"inherit"},e),i.a.createElement(I.a,null)),i.a.createElement(S.a,{anchorEl:o,keepMounted:!0,open:Boolean(o),onClose:c},i.a.createElement(L.a,{onClick:function(){c(),localStorage.clear(),n("/user/login")}},i.a.createElement(w.a,{style:{marginRight:16}}),"Logout")))},B=t(1270),D=t(1269),F=t(1271),M=t(766),W=t(781),q=t.n(W),A=t(45),J=t.n(A),H=t(230);function K(){var e=Object(o.a)(["\n  query Communicationmenu {\n    communications: claimCommuications(\n      first: 2\n      where: {\n        boxes: Inbox\n        acknowledged: false\n      }\n    ) {\n      totalCount\n      edges {\n        node {\n          id\n          claimRef\n          message\n        }\n      }\n    }\n  }\n"]);return K=function(){return e},e}J()(K());var G=function(e){var n,t,a,o,l=Object(u.f)().push,c=i.a.useState(null),r=Object(_.a)(c,2),s=r[0],m=r[1],d=function(){return m(null)},p=Object(H.z)(),v=p.data,f=p.loading;return i.a.createElement(i.a.Fragment,null,i.a.createElement(z.a,Object.assign({onClick:function(e){return m(e.currentTarget)},color:"inherit",disabled:f},e),i.a.createElement(B.a,{color:"secondary",max:99,badgeContent:null===v||void 0===v?void 0:null===(n=v.communications)||void 0===n?void 0:n.totalCount},i.a.createElement(q.a,null))),i.a.createElement(S.a,{anchorEl:s,keepMounted:!0,open:Boolean(s),onClose:d,PaperProps:{style:{minWidth:200,maxWidth:350}}},i.a.createElement(D.a,{tabIndex:-1},i.a.createElement(F.a,{primary:"Communication Tasks"})),i.a.createElement(M.a,null),null===v||void 0===v?void 0:null===(t=v.communications)||void 0===t?void 0:null===(a=t.edges)||void 0===a?void 0:a.map((function(e){var n=e.node,t=n.id,a=n.claimRef,o=n.message;return i.a.createElement(D.a,{key:t,component:L.a,button:!0,onClick:function(){return function(e){d(),l("/app/claims/".concat(e,"/communications"))}(t)}},i.a.createElement(F.a,{primary:a,secondary:o}))})),i.a.createElement(M.a,null),i.a.createElement(D.a,{style:{padding:16}},i.a.createElement(F.a,null,"Total: ",null===v||void 0===v?void 0:null===(o=v.communications)||void 0===o?void 0:o.totalCount),i.a.createElement(C.a,{variant:"outlined",color:"primary",style:{marginLeft:8},onClick:function(){d(),l("/app/communicationtasks")}},"See more..."))))},Q=t(58),V=[{label:"Dashboard",path:"/app/dashboard",icon:i.a.createElement(h.a,null)},{label:"Claims",path:"/app/claims",icon:i.a.createElement(E.a,null)},{label:"Reports",path:"/app/reports",icon:i.a.createElement(y.a,null),href:"https://reports.claims.endataclaims.com/"}],X=function(e){e.logo;var n=e.companyLogo,t=e.accessPaths,a=Object(u.g)().pathname,o=V.filter((function(e){return t.includes(e.path)})),l=o.findIndex((function(e){return a.includes(e.path)}));return i.a.createElement(d.a,{position:"sticky"},i.a.createElement(p.a,{maxWidth:"lg"},i.a.createElement(v.a,{style:{minHeight:48,height:48}},i.a.createElement("div",{style:{marginRight:"auto"}},n&&i.a.createElement("img",{src:"".concat(Q.c,"/").concat(n),alt:"ENData Claims",style:{marginRight:8}}),i.a.createElement(x,{routes:o,activeRoute:l})),i.a.createElement("div",{style:{marginLeft:"auto",height:"100%",display:"flex"}},t.includes("/app/communicationtasks")&&i.a.createElement(G,{style:{marginRight:8}}),i.a.createElement(N,null),i.a.createElement("img",{src:"".concat(Q.c,"/endata/logo.png"),alt:"ENData Claims"})))))},Y=t(16);function Z(){var e=Object(o.a)(["\n  query AppRoot {\n    currentUser {\n      _appRoutes @client\n      _rootRoute @client\n      _customisation @client {\n        alias\n        favicon\n        logo\n        companyLogo\n      }\n    }\n  }\n"]);return Z=function(){return e},e}Object(Y.a)(Z());n.default=function(){var e,n,t,a,o,l=Object(u.f)(),c=l.push,s=l.location.pathname;localStorage.ACCESS_TOKEN||c("/user/signin");var d=Object(H.l)(),p=d.data,v=d.loading,f=$({appRoutes:null===p||void 0===p?void 0:null===(e=p.currentUser)||void 0===e?void 0:e._appRoutes}),h=null===p||void 0===p?void 0:null===(n=p.currentUser)||void 0===n?void 0:n._rootRoute;i.a.useEffect((function(){var e=s.split("/").filter((function(e){return e}));h&&e.length<2&&c(h)}),[s,h,c]);var g=null===p||void 0===p?void 0:null===(t=p.currentUser)||void 0===t?void 0:t._customisation;return console.log(p),v||!(null===p||void 0===p?void 0:null===(a=p.currentUser)||void 0===a?void 0:a._appRoutes)?i.a.createElement(m,null):i.a.createElement(i.a.Fragment,null,i.a.createElement(r.a,null,i.a.createElement("title",null,null===g||void 0===g?void 0:g.alias),(null===g||void 0===g?void 0:g.favicon)&&i.a.createElement("link",{id:"favicon",rel:"icon",type:"image/x-icon",href:g.favicon})),i.a.createElement(X,{logo:null===g||void 0===g?void 0:g.logo,companyLogo:null===g||void 0===g?void 0:g.companyLogo,accessPaths:null===p||void 0===p?void 0:null===(o=p.currentUser)||void 0===o?void 0:o._appRoutes}),i.a.createElement(i.a.Suspense,{fallback:null},i.a.createElement(u.c,null,f&&f.map((function(e){return i.a.createElement(u.a,Object.assign({key:e.path},e))})))))};var $=function(e){var n=e.appRoutes,o=i.a.useMemo((function(){return[{exact:!1,path:"/app/dashboard",component:i.a.lazy((function(){return Promise.all([t.e(8),t.e(4),t.e(7),t.e(36),t.e(68)]).then(t.bind(null,1280))}))},{exact:!1,path:"/app/claims/add",component:i.a.lazy((function(){return Promise.all([t.e(2),t.e(0),t.e(5),t.e(1),t.e(69)]).then(t.bind(null,1281))}))},{exact:!1,path:"/app/claims/:id",component:i.a.lazy((function(){return Promise.all([t.e(2),t.e(5),t.e(8),t.e(13),t.e(70)]).then(t.bind(null,1286))}))},{exact:!1,path:"/app/claims",component:i.a.lazy((function(){return Promise.all([t.e(2),t.e(8),t.e(4),t.e(55),t.e(73)]).then(t.bind(null,1284))}))},{exact:!1,path:"/app/communicationtasks",component:i.a.lazy((function(){return Promise.all([t.e(2),t.e(5),t.e(8),t.e(4),t.e(72)]).then(t.bind(null,1287))}))}]}),[]),l=n?o.filter((function(e){return Boolean(n.filter((function(n){return e.path.includes(n)})).length)})):[];return[].concat(Object(a.a)(l),[{exact:!0,path:"*",component:i.a.lazy((function(){return t.e(86).then(t.bind(null,784))}))}])}}}]);
//# sourceMappingURL=64.5703c362.chunk.js.map