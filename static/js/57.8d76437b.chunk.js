(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[57,20,88],{222:function(n,e,t){"use strict";t.r(e);var a=t(120),i=t(7),o=t(0),r=t.n(o),l=t(220),u=t(254),d=t(281);e.default=function(n){var e=n.variant,t=void 0===e?"standard":e,o=n.startAdornment,c=n.endAdornment,s=Object(i.a)(n,["variant","startAdornment","endAdornment"]);return r.a.createElement(l.a,Object.assign({component:u.a},s,{variant:"inline",inputVariant:t,format:"dd/MM/yyyy",placeholder:"DD/MM/YYYY",InputProps:Object(a.a)({},s.InputProps,{startAdornment:o?r.a.createElement(d.a,{position:"start"},o):null,endAdornment:c?r.a.createElement(d.a,{position:"end"},c):null})}))}},417:function(n,e,t){"use strict";t.r(e);var a=t(11),i=t.n(a),o=t(20),r=t(219),l=t(25),u=t(0),d=t.n(u),c=t(243),s=t(716),m=t(965),p=t(609),v=t(765),b=t(610),f=t(1264),M=t(220),A=t(222),E=t(16),k=t(230),h=t(122);function g(){var n=Object(l.a)(["\n  mutation AppointmentMade($id: ID!, $input: AppointmentInput!) {\n    claimMakeAppointment(\n      where: { id: $id }\n      input: $input\n    ) {\n      success\n      messages\n    }\n  }\n"]);return g=function(){return n},n}Object(E.a)(g()),e.default=function(n){var e,t,a,l,u,E,g,j,O=n.claim,y=Object(c.b)(),D=null===y||void 0===y?void 0:null===(e=y.me)||void 0===e?void 0:e.userType,w=d.a.useMemo((function(){return"Builder"===D}),[D]),x=d.a.useMemo((function(){return"Restorer"===D}),[D]),J=w&&(null===O||void 0===O?void 0:null===(t=O.claimJob)||void 0===t?void 0:null===(a=t.building)||void 0===a?void 0:null===(l=a.progress)||void 0===l?void 0:l.initialCallMade)&&!O.claimJob.building.progress.appointmentBooked||x&&(null===O||void 0===O?void 0:null===(u=O.claimJob)||void 0===u?void 0:null===(E=u.restoration)||void 0===E?void 0:null===(g=E.progress)||void 0===g?void 0:g.initialCallMade)&&!(null===(j=O.claimJob.restoration)||void 0===j?void 0:j.progress.appointmentBooked),C=d.a.useState(!1),S=Object(r.a)(C,2),I=S[0],P=S[1],Y=function(){return P(!1)},$=Object(k.m)(),B=Object(r.a)($,1)[0],W=Object(h.useSnackbar)().enqueueSnackbar;return{isDisplayApointmentMade:J,handleAppointmentMade:function(){return P(!0)},ApointmentMadeDialog:function(){return d.a.createElement(s.a,{open:I,onClose:Y,PaperProps:{style:{minWidth:"40%",maxWidth:"65%"}}},d.a.createElement(M.c,{initialValues:{appointmentDate:new Date},onSubmit:function(){var n=Object(o.a)(i.a.mark((function n(e){var t,a,o,r,l,u;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!(null===y||void 0===y?void 0:null===(t=y.claim)||void 0===t?void 0:t.id)){n.next=8;break}return n.next=3,B({variables:{id:y.claim.id,input:e}});case 3:null===(u=n.sent)||void 0===u||null===(a=u.data)||void 0===a||null===(o=a.claimMakeAppointment)||void 0===o||o.messages.forEach((function(n){return W(n)})),(null===u||void 0===u?void 0:null===(r=u.data)||void 0===r?void 0:null===(l=r.claimMakeAppointment)||void 0===l?void 0:l.success)&&y.claimDetailsRefetch(),n.next=9;break;case 8:console.log("claim meta error");case 9:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},(function(n){var e=n.isSubmitting;return d.a.createElement(M.b,null,d.a.createElement(m.a,null,"Appointment Made"),d.a.createElement(p.a,null,d.a.createElement(v.a,{container:!0},d.a.createElement(v.a,{item:!0,xs:12},d.a.createElement(A.default,{name:"appointmentDate",label:"Appointment Date",variant:"outlined",fullWidth:!0})))),d.a.createElement(b.a,null,d.a.createElement(f.a,{onClick:Y,disabled:e},"Cancel"),d.a.createElement(f.a,{type:"submit",color:"primary",disabled:e},"Make appointment")))})))}}}}}]);
//# sourceMappingURL=57.8d76437b.chunk.js.map