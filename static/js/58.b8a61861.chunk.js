(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[58,20,88],{222:function(n,e,t){"use strict";t.r(e);var i=t(120),a=t(7),o=t(0),l=t.n(o),u=t(220),r=t(254),d=t(281);e.default=function(n){var e=n.variant,t=void 0===e?"standard":e,o=n.startAdornment,c=n.endAdornment,s=Object(a.a)(n,["variant","startAdornment","endAdornment"]);return l.a.createElement(u.a,Object.assign({component:r.a},s,{variant:"inline",inputVariant:t,format:"dd/MM/yyyy",placeholder:"DD/MM/YYYY",InputProps:Object(i.a)({},s.InputProps,{startAdornment:o?l.a.createElement(d.a,{position:"start"},o):null,endAdornment:c?l.a.createElement(d.a,{position:"end"},c):null})}))}},418:function(n,e,t){"use strict";t.r(e);var i=t(11),a=t.n(i),o=t(20),l=t(219),u=t(25),r=t(0),d=t.n(r),c=t(243),s=t(716),v=t(965),p=t(609),m=t(610),b=t(1264),f=t(220),h=t(222),A=t(16),g=t(230),y=t(122);function E(){var n=Object(u.a)(["\n  mutation ChangeAppointment($id: ID!, $input: AppointmentInput!) {\n    claimMakeAppointment(\n      where: { id: $id }\n      input: $input\n    ) {\n      success\n      messages\n    }\n  }\n"]);return E=function(){return n},n}Object(A.a)(E()),e.default=function(n){var e,t,i,u,r,A,E,k,j,O,D,M,I,S,C,w,J,x=n.claim,P=Object(c.b)(),Y=null===P||void 0===P?void 0:null===(e=P.me)||void 0===e?void 0:e.userType,$=d.a.useMemo((function(){return"Builder"===Y}),[Y]),W=d.a.useMemo((function(){return"Restorer"===Y}),[Y]),R=(null===P||void 0===P?void 0:null===(t=P.user)||void 0===t?void 0:null===(i=t.company)||void 0===i?void 0:i.companyId)!==($?null===x||void 0===x?void 0:null===(u=x.claimJob)||void 0===u?void 0:null===(r=u.building)||void 0===r?void 0:null===(A=r.scopingSupplier)||void 0===A?void 0:A.companyId:W?null===x||void 0===x?void 0:null===(E=x.claimJob)||void 0===E?void 0:null===(k=E.restoration)||void 0===k?void 0:null===(j=k.scopingSupplier)||void 0===j?void 0:j.companyId:""),V=$&&!R&&[1,37].includes(null!==(O=null===x||void 0===x?void 0:null===(D=x.claimJob)||void 0===D?void 0:null===(M=D.building)||void 0===M?void 0:null===(I=M.claimStatus)||void 0===I?void 0:I.statusId)&&void 0!==O?O:-1)||W&&!R&&[1,37].includes(null!==(S=null===x||void 0===x?void 0:null===(C=x.claimJob)||void 0===C?void 0:null===(w=C.restoration)||void 0===w?void 0:null===(J=w.claimStatus)||void 0===J?void 0:J.statusId)&&void 0!==S?S:-1),q=d.a.useState(!1),B=Object(l.a)(q,2),T=B[0],z=B[1],F=function(){return z(!1)},G=Object(g.p)(),H=Object(l.a)(G,1)[0],K=Object(y.useSnackbar)().enqueueSnackbar;return{isDisplayChangeAppointment:V,handleChangeAppointment:function(){return z(!0)},ChangeApointmentDialog:function(){return d.a.createElement(s.a,{open:T,onClose:F,PaperProps:{style:{minWidth:"40%",maxWidth:"65%"}}},d.a.createElement(f.c,{initialValues:{appointmentDate:new Date},onSubmit:function(){var n=Object(o.a)(a.a.mark((function n(e){var t,i,o,l,u,r;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!(null===P||void 0===P?void 0:null===(t=P.claim)||void 0===t?void 0:t.id)){n.next=8;break}return n.next=3,H({variables:{id:P.claim.id,input:e}});case 3:null===(r=n.sent)||void 0===r||null===(i=r.data)||void 0===i||null===(o=i.claimMakeAppointment)||void 0===o||o.messages.forEach((function(n){return K(n)})),(null===r||void 0===r?void 0:null===(l=r.data)||void 0===l?void 0:null===(u=l.claimMakeAppointment)||void 0===u?void 0:u.success)&&P.claimDetailsRefetch(),n.next=9;break;case 8:console.log("claim meta error");case 9:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},(function(n){var e=n.isSubmitting;return d.a.createElement(f.b,null,d.a.createElement(v.a,null,"Change Appointment"),d.a.createElement(p.a,null,d.a.createElement(h.default,{name:"appointmentDate",label:"Appointment Date",variant:"outlined",fullWidth:!0})),d.a.createElement(m.a,null,d.a.createElement(b.a,{onClick:F,disabled:e},"Cancel"),d.a.createElement(b.a,{type:"submit",color:"primary",disabled:e},"Make appointment")))})))}}}}}]);
//# sourceMappingURL=58.b8a61861.chunk.js.map